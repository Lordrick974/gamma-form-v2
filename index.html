<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üé® Gamma AI Generator</title>
  
  <!-- 1Ô∏è‚É£ CSS DU CHAT N8N -->
  <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      max-width: 520px;
      margin: 0 auto;
    }

    h1 {
      color: #667eea;
      font-size: 24px;
      margin-bottom: 8px;
      text-align: center;
    }

    .subtitle {
      text-align: center;
      color: #666;
      font-size: 13px;
      margin-bottom: 20px;
    }

    textarea {
      width: 100%;
      min-height: 120px;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 14px;
      font-family: inherit;
      resize: vertical;
      transition: all 0.3s ease;
    }

    textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    /* Zone d'upload */
    .upload-zone {
      border: 2px dashed #ccc;
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      margin: 15px 0;
      transition: all 0.3s ease;
      cursor: pointer;
      background: #fafafa;
    }

    .upload-zone:hover {
      border-color: #667eea;
      background: #f0f4ff;
    }

    .upload-zone.dragover {
      border-color: #667eea;
      background: #e8edff;
      transform: scale(1.02);
    }

    .upload-zone.has-files {
      border-color: #28a745;
      background: #f0fff4;
    }

    .upload-icon {
      font-size: 32px;
      margin-bottom: 8px;
    }

    .upload-text {
      color: #666;
      font-size: 13px;
    }

    .upload-text strong {
      color: #667eea;
    }

    .file-input {
      display: none;
    }

    /* Liste des fichiers */
    .file-list {
      margin-top: 10px;
      max-height: 140px;
      overflow-y: auto;
      text-align: left;
    }

    .file-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 12px;
      background: #f8f9fa;
      border-radius: 6px;
      margin-bottom: 6px;
      font-size: 12px;
      gap: 8px;
    }

    .file-item:last-child { margin-bottom: 0; }

    .file-info {
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1;
      min-width: 0;
    }

    .file-icon { font-size: 16px; }

    .file-name {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      color: #333;
    }

    .file-size {
      color: #888;
      font-size: 11px;
      white-space: nowrap;
    }

    .file-remove {
      background: none;
      border: none;
      color: #dc3545;
      cursor: pointer;
      padding: 4px 6px;
      font-size: 14px;
      border-radius: 6px;
    }

    .file-remove:hover {
      background: rgba(220, 53, 69, 0.08);
      transform: scale(1.06);
    }

    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin: 15px 0;
    }

    select {
      padding: 10px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
      background: #fff;
    }

    button.primary {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      margin-top: 10px;
    }

    button.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
    }

    button.primary:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .status {
      margin-top: 15px;
      padding: 12px;
      border-radius: 8px;
      font-size: 13px;
      display: none;
    }

    .status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    .status.loading {
      background: #d1ecf1;
      color: #0c5460;
      border: 1px solid #bee5eb;
    }

    .result {
      margin-top: 15px;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
      font-size: 13px;
      display: none;
    }

    .result a {
      display: inline-block;
      margin-top: 10px;
      padding: 10px 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white !important;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.2s ease;
    }

    .result a:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .result-details {
      margin-top: 10px;
      padding: 10px;
      background: white;
      border-radius: 6px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 11px;
      max-height: 180px;
      overflow-y: auto;
      border: 1px solid #dee2e6;
      white-space: pre-wrap;
      word-break: break-word;
    }

    .quick-actions {
      display: flex;
      gap: 8px;
      margin-top: 15px;
    }

    .quick-btn {
      flex: 1;
      padding: 8px;
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 6px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .quick-btn:hover {
      background: #e9ecef;
      border-color: #667eea;
    }

    .hint {
      font-size: 12px;
      color: #999;
      margin-top: 8px;
      text-align: center;
    }

    .supported-formats {
      font-size: 11px;
      color: #888;
      margin-top: 6px;
    }

    /* Progress bar */
    .progress-container {
      display: none;
      margin-top: 10px;
    }

    .progress-bar {
      height: 6px;
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      width: 0%;
      transition: width 0.25s ease;
    }

    .progress-text {
      font-size: 12px;
      color: #666;
      margin-top: 5px;
      text-align: center;
    }

    .meta {
      margin-top: 10px;
      color: #666;
      font-size: 12px;
      text-align: center;
    }

    /* üé® Style personnalis√© pour le widget Chat n8n */
    :root {
      --chat--color-primary: #667eea;
      --chat--color-primary-shade-50: #764ba2;
      --chat--color-primary-shade-100: #5a67d8;
      --chat--color-secondary: #764ba2;
      --chat--color-secondary-shade-50: #667eea;
      --chat--color-white: #ffffff;
      --chat--color-light: #f8f9fa;
      --chat--color-light-shade-50: #e9ecef;
      --chat--color-light-shade-100: #dee2e6;
      --chat--color-medium: #6c757d;
      --chat--color-dark: #343a40;
      --chat--color-disabled: #868e96;
      --chat--color-typing: #868e96;
      --chat--spacing: 1rem;
      --chat--border-radius: 0.5rem;
      --chat--transition-duration: 0.15s;
      --chat--window--width: 400px;
      --chat--window--height: 600px;
      --chat--header-height: auto;
      --chat--header--padding: var(--chat--spacing);
      --chat--header--background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --chat--header--color: var(--chat--color-white);
      --chat--header--border-top: none;
      --chat--header--border-bottom: none;
      --chat--toggle--background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --chat--toggle--hover--background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
      --chat--toggle--active--background: linear-gradient(135deg, #4c51bf 0%, #553c9a 100%);
      --chat--toggle--color: var(--chat--color-white);
      --chat--toggle--size: 64px;
      --chat--message--bot--background: var(--chat--color-light);
      --chat--message--bot--color: var(--chat--color-dark);
      --chat--message--user--background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --chat--message--user--color: var(--chat--color-white);
      --chat--message--pre--background: rgba(0, 0, 0, 0.05);
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>üé® Gamma AI Generator</h1>
    <p class="subtitle">Powered by n8n + IA</p>

    <form id="generatorForm">
      <textarea
        id="prompt"
        placeholder="D√©crivez votre pr√©sentation en fran√ßais...

Exemple : Cr√©er une pr√©sentation professionnelle sur l'intelligence artificielle en comptabilit√©. Public : Experts-comptables. Inclure des statistiques r√©centes et des exemples concrets."
      ></textarea>

      <!-- Zone d'upload -->
      <div id="uploadZone" class="upload-zone" role="button" tabindex="0">
        <div class="upload-icon">üìé</div>
        <div class="upload-text">
          <strong>Cliquez</strong> ou <strong>glissez-d√©posez</strong> vos documents
        </div>
        <div class="supported-formats">PDF, DOCX, XLSX, PPTX, TXT, Images (max 10MB/fichier)</div>
        <div id="fileList" class="file-list"></div>
        <div id="filesMeta" class="meta"></div>
      </div>

      <input
        type="file"
        id="fileInput"
        class="file-input"
        multiple
        accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.png,.jpg,.jpeg,.gif,.webp"
      />

      <div class="options">
        <select id="slides">
          <option value="5">5 slides</option>
          <option value="8" selected>8 slides</option>
          <option value="10">10 slides</option>
          <option value="12">12 slides</option>
          <option value="15">15 slides</option>
          <option value="20">20 slides</option>
          <option value="25">25 slides</option>
          <option value="30">30 slides</option>
          <option value="40">40 slides</option>
          <option value="50">50 slides</option>
          <option value="60">60 slides</option>
        </select>

        <select id="style">
          <option value="professionnel" selected>Professionnel</option>
          <option value="moderne">Moderne</option>
          <option value="cr√©atif">Cr√©atif</option>
          <option value="minimaliste">Minimaliste</option>
          <option value="dynamique">Dynamique</option>
        </select>
      </div>

      <button id="generateBtn" class="primary" type="submit">
        ‚ú® G√©n√©rer Pr√©sentation
      </button>

      <div class="quick-actions">
        <button class="quick-btn" type="button" data-example="comptable">üíº Ex. Comptable</button>
        <button class="quick-btn" type="button" data-example="pitch">üöÄ Ex. Pitch Deck</button>
        <button class="quick-btn" type="button" data-example="formation">üìö Ex. Formation</button>
      </div>

      <div id="progressContainer" class="progress-container">
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
        <div id="progressText" class="progress-text"></div>
      </div>

      <div id="status" class="status"></div>
      <div id="result" class="result"></div>

      <p class="hint">üí° Astuce : Cliquez sur la bulle üí¨ en bas √† droite pour discuter avec l'assistant IA</p>
    </form>
  </div>

  <script>
    // =========================
    // CONFIG
    // =========================
    const WEBHOOK_URL = 'https://n8n.srv928399.hstgr.cloud/webhook/gamma-instant';

    const MAX_FILE_SIZE_MB = 10;
    const MAX_FILES = 10;
    const MAX_TOTAL_MB = 30;

    const SOURCE_TAG = 'gamma-github';

    const examples = {
      comptable: "Cr√©er une pr√©sentation sur l'automatisation des processus comptables avec n8n et l'IA. Public : Experts-comptables PME. Inclure : statistiques d'efficacit√©, outils disponibles (n8n, Claude, ChatGPT), cas d'usage concrets, ROI attendu.",
      pitch: "Cr√©er un pitch deck pour une startup d'automatisation comptable par IA. Public : Investisseurs seed. Inclure : probl√®me du march√©, solution unique, traction/KPIs, business model, √©quipe, demande de financement 500K‚Ç¨.",
      formation: "Cr√©er une formation sur l'utilisation de Claude AI pour automatiser les t√¢ches comptables. Public : Comptables d√©butants en IA. Inclure : introduction √† l'IA, cas d'usage pratiques, d√©monstrations, exercices, ressources."
    };

    // =========================
    // STATE
    // =========================
    let selectedFiles = [];

    // =========================
    // DOM
    // =========================
    const form = document.getElementById('generatorForm');

    const uploadZone = document.getElementById('uploadZone');
    const fileInput = document.getElementById('fileInput');
    const fileList = document.getElementById('fileList');
    const filesMeta = document.getElementById('filesMeta');

    const promptEl = document.getElementById('prompt');
    const slidesEl = document.getElementById('slides');
    const styleEl = document.getElementById('style');

    const statusDiv = document.getElementById('status');
    const resultDiv = document.getElementById('result');

    const generateBtn = document.getElementById('generateBtn');
    const progressContainer = document.getElementById('progressContainer');
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');

    // =========================
    // HELPERS
    // =========================
    function showStatus(type, message) {
      statusDiv.className = 'status ' + type;
      statusDiv.textContent = message;
      statusDiv.style.display = 'block';
    }

    function hideStatus() {
      statusDiv.style.display = 'none';
      statusDiv.textContent = '';
      statusDiv.className = 'status';
    }

    function formatFileSize(bytes) {
      if (bytes < 1024) return bytes + ' B';
      if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
      return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
    }

    function getFileIcon(filename) {
      const ext = filename.split('.').pop().toLowerCase();
      const icons = {
        pdf: 'üìï',
        doc: 'üìò', docx: 'üìò',
        xls: 'üìó', xlsx: 'üìó', csv: 'üìó',
        ppt: 'üìô', pptx: 'üìô',
        txt: 'üìÑ',
        png: 'üñºÔ∏è', jpg: 'üñºÔ∏è', jpeg: 'üñºÔ∏è', gif: 'üñºÔ∏è', webp: 'üñºÔ∏è'
      };
      return icons[ext] || 'üìé';
    }

    function totalBytes(files) {
      return files.reduce((sum, f) => sum + (f.size || 0), 0);
    }

    function withinLimits(candidateFiles) {
      if (candidateFiles.length > MAX_FILES) {
        showStatus('error', `‚ö†Ô∏è Limite : ${MAX_FILES} fichiers maximum`);
        return false;
      }

      const total = totalBytes(candidateFiles);
      if (total > MAX_TOTAL_MB * 1024 * 1024) {
        showStatus('error', `‚ö†Ô∏è Taille totale > ${MAX_TOTAL_MB}MB (r√©duis le nombre de fichiers)`);
        return false;
      }

      return true;
    }

    function fileToBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = () => {
          const base64 = (reader.result || '').toString().split(',')[1] || '';
          resolve(base64);
        };
        reader.onerror = (error) => reject(error);
      });
    }

    async function fetchWithTimeout(url, options = {}, timeoutMs = 120000) {
      const controller = new AbortController();
      const id = setTimeout(() => controller.abort(), timeoutMs);
      try {
        const res = await fetch(url, { ...options, signal: controller.signal });
        return res;
      } finally {
        clearTimeout(id);
      }
    }

    async function readResponseSmart(response) {
      const contentType = (response.headers.get('content-type') || '').toLowerCase();
      const text = await response.text();

      if (contentType.includes('application/json')) {
        try {
          return { kind: 'json', data: text ? JSON.parse(text) : null, raw: text };
        } catch {
          return { kind: 'text', data: null, raw: text };
        }
      }
      try {
        const maybe = text ? JSON.parse(text) : null;
        return { kind: 'json', data: maybe, raw: text };
      } catch {
        return { kind: 'text', data: null, raw: text };
      }
    }

    function setProgress(percent, label) {
      progressContainer.style.display = 'block';
      progressFill.style.width = `${Math.max(0, Math.min(100, percent))}%`;
      progressText.textContent = label || '';
    }

    function resetProgressSoon() {
      setTimeout(() => {
        progressContainer.style.display = 'none';
        progressFill.style.width = '0%';
        progressText.textContent = '';
      }, 1500);
    }

    // =========================
    // FILES UX
    // =========================
    function updateFileList() {
      if (selectedFiles.length === 0) {
        fileList.innerHTML = '';
        uploadZone.classList.remove('has-files');
        filesMeta.textContent = '';
        return;
      }

      uploadZone.classList.add('has-files');

      fileList.innerHTML = selectedFiles.map((file, index) => `
        <div class="file-item">
          <div class="file-info">
            <span class="file-icon">${getFileIcon(file.name)}</span>
            <span class="file-name" title="${file.name}">${file.name}</span>
          </div>
          <span class="file-size">${formatFileSize(file.size)}</span>
          <button class="file-remove" type="button" data-remove="${index}" aria-label="Retirer">‚úï</button>
        </div>
      `).join('');

      const total = totalBytes(selectedFiles);
      filesMeta.textContent = `${selectedFiles.length} fichier(s) ‚Ä¢ ${formatFileSize(total)}`;

      fileList.querySelectorAll('[data-remove]').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          const idx = Number(btn.getAttribute('data-remove'));
          selectedFiles.splice(idx, 1);
          updateFileList();
        });
      });
    }

    function handleFiles(files) {
      const incoming = [...files];

      const merged = [...selectedFiles];
      for (const file of incoming) {
        if (file.size > MAX_FILE_SIZE_MB * 1024 * 1024) {
          showStatus('error', `‚ö†Ô∏è "${file.name}" d√©passe ${MAX_FILE_SIZE_MB}MB`);
          continue;
        }
        const exists = merged.find(f => f.name === file.name && f.size === file.size);
        if (!exists) merged.push(file);
      }

      if (!withinLimits(merged)) return;

      selectedFiles = merged;
      updateFileList();
    }

    uploadZone.addEventListener('click', () => fileInput.click());
    uploadZone.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        fileInput.click();
      }
    });

    fileInput.addEventListener('change', (e) => {
      const files = e.target.files;
      handleFiles(files);
      fileInput.value = '';
    });

    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      uploadZone.addEventListener(eventName, (e) => {
        e.preventDefault();
        e.stopPropagation();
      }, false);
    });

    ['dragenter', 'dragover'].forEach(eventName => {
      uploadZone.addEventListener(eventName, () => uploadZone.classList.add('dragover'), false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
      uploadZone.addEventListener(eventName, () => uploadZone.classList.remove('dragover'), false);
    });

    uploadZone.addEventListener('drop', (e) => {
      const dt = e.dataTransfer;
      const files = dt.files;
      handleFiles(files);
    }, false);

    // =========================
    // QUICK EXAMPLES
    // =========================
    document.querySelectorAll('[data-example]').forEach(btn => {
      btn.addEventListener('click', () => {
        const key = btn.getAttribute('data-example');
        if (examples[key]) promptEl.value = examples[key];
      });
    });

    promptEl.addEventListener('keydown', function(e) {
      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
        e.preventDefault();
        form.requestSubmit();
      }
    });

    // =========================
    // MAIN SUBMIT
    // =========================
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      hideStatus();
      resultDiv.style.display = 'none';
      resultDiv.innerHTML = '';

      const prompt = (promptEl.value || '').trim();
      const slides = slidesEl.value;
      const style = styleEl.value;

      if (!prompt && selectedFiles.length === 0) {
        showStatus('error', '‚ö†Ô∏è Veuillez entrer un prompt ou ajouter des documents');
        return;
      }

      let finalPrompt = prompt || 'Cr√©er une pr√©sentation bas√©e sur les documents fournis.';
      finalPrompt += ` Style ${style}. Cr√©er exactement ${slides} slides.`;

      generateBtn.disabled = true;
      generateBtn.textContent = '‚è≥ Pr√©paration...';

      try {
        const submittedAt = new Date().toISOString();

        const attachments = [];
        if (selectedFiles.length > 0) {
          setProgress(5, 'Pr√©paration des fichiers...');
          showStatus('loading', `üìé Traitement de ${selectedFiles.length} document(s)...`);

          for (let i = 0; i < selectedFiles.length; i++) {
            const file = selectedFiles[i];
            const pct = 5 + Math.round(((i + 1) / selectedFiles.length) * 55);
            setProgress(pct, `Encodage : ${file.name}`);

            const base64 = await fileToBase64(file);
            attachments.push({
              filename: file.name,
              content: base64,
              type: file.type || '',
              size: file.size || 0
            });
          }
        }

        setProgress(70, "ü§ñ Envoi √† n8n...");
        showStatus('loading', "ü§ñ G√©n√©ration en cours...");

        const payload = {
          source: SOURCE_TAG,
          submitted_at: submittedAt,
          prompt_raw: prompt,
          prompt: finalPrompt,
          style,
          slides: Number(slides),
          attachments
        };

        const response = await fetchWithTimeout(WEBHOOK_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        }, 180000);

        setProgress(92, "Lecture de la r√©ponse...");

        const parsed = await readResponseSmart(response);

        if (!response.ok) {
          const msg = parsed.raw || `HTTP ${response.status}`;
          throw new Error(`HTTP ${response.status}: ${msg}`);
        }

        setProgress(100, "‚úÖ Termin√©");
        showStatus('success', '‚úÖ Demande envoy√©e avec succ√®s !');

        resultDiv.style.display = 'block';

        const data = parsed.data || {};
        const gammaUrl = data.gamma_url || data.url || data.gammaUrl || null;
        const generationId = data.generation_id || data.generationId || data.id || null;
        const status = data.status || 'OK';

        if (gammaUrl) {
          resultDiv.innerHTML = `
            <strong>üéâ Votre pr√©sentation est pr√™te !</strong><br>
            <a href="${gammaUrl}" target="_blank" rel="noopener">üîó Ouvrir dans Gamma</a>
            <div class="result-details">
<strong>Statut :</strong> ${status}
<strong>ID :</strong> ${generationId || 'N/A'}

R√©ponse brute:
${parsed.raw || '(vide)'}
            </div>
          `;
        } else {
          resultDiv.innerHTML = `
            <strong>‚úÖ Envoy√©.</strong><br>
            <div class="result-details">
Ton workflow n8n ne renvoie pas d'URL (mode "fire-and-forget"), c'est normal.

R√©ponse brute:
${parsed.raw || '(vide)'}
            </div>
          `;
        }

      } catch (error) {
        console.error('‚ùå Erreur:', error);
        showStatus('error', '‚ùå Erreur : ' + (error.message || 'inconnue'));
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
          <strong>D√©tails de l'erreur :</strong>
          <div class="result-details">${(error && error.message) ? error.message : String(error)}</div>
        `;
      } finally {
        generateBtn.disabled = false;
        generateBtn.textContent = '‚ú® G√©n√©rer Pr√©sentation';
        resetProgressSoon();
      }
    });
  </script>

  <!-- 2Ô∏è‚É£ SCRIPT DU CHAT N8N - Widget flottant -->
  <script type="module">
    import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';
    
    createChat({
      webhookUrl: 'https://n8n.srv928399.hstgr.cloud/webhook/gamma-chat-public/chat',
      mode: 'window',
      showWelcomeScreen: true,
      initialMessages: [
        'Bonjour ! üëã Je suis votre assistant Gamma AI.',
        'Je peux cr√©er des pr√©sentations professionnelles pour vous.',
        'D√©crivez simplement le sujet de votre pr√©sentation !'
      ],
      i18n: {
        fr: {
          title: 'üé® Gamma AI - COLOSSE',
          subtitle: 'Cr√©ez des pr√©sentations pro en quelques secondes',
          inputPlaceholder: 'D√©crivez votre pr√©sentation...',
          getStarted: 'Commencer',
          closeButtonTooltip: 'Fermer'
        }
      }
    });
  </script>
</body>
</html>
